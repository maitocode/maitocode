var px=new pixelit({from:document.getElementById("pixelitimg")}),paletteList=[
    [[7,5,5],[33,25,25],[82,58,42],[138,107,62],[193,156,77],[234,219,116],[160,179,53],[83,124,68],[66,60,86],[89,111,175],[107,185,182],[251,250,249],[184,170,176],[121,112,126],[148,91,40]],
    [[60, 60, 60], [124,252,0], [127,255,0], [50,205,50], [0,255,0], [34,139,34], [0,128,0], [0,100,0], [173,255,47], [154,205,50], [0,255,127], [0,250,154], [144,238,144], [152,251,152], [143,188,143], [60,179,113], [46,139,87]]
],currentPalette=0;document.addEventListener("DOMContentLoaded",(function(){document.getElementById("pixlInput").onchange=function(t){var c=new Image();c.src=URL.createObjectURL(this.files[0]),c.onload=function(){px.setFromImgSource(c.src),e()}};var e=function(){document.querySelector(".loader").classList.toggle("active"),setTimeout((function(){document.querySelector(".loader").classList.toggle("active")}),800),px.setScale(t.value).setPalette(paletteList[currentPalette]).draw().pixelate(),c.checked&&px.convertGrayscale(),n.checked&&px.convertPalette(),a.value&&px.setMaxHeight(a.value).resizeImage(),o.value&&px.setMaxWidth(o.value).resizeImage()};document.querySelector("#palettecolor").innerHTML="",paletteList.forEach((function(e,t){var c=document.createElement("option");c.value=t,e.forEach((function(e){var t=document.createElement("div");t.classList="colorblock",t.style.backgroundColor="rgba(".concat(e[0],",").concat(e[1],",").concat(e[2],",1)"),c.appendChild(t)})),document.getElementById("paletteselector").appendChild(c)})),new SlimSelect({hideSelectedOption:!0,showSearch:!1,select:"#paletteselector",onChange:function(t){currentPalette=t.value,n.checked=!0,e()}});var t=document.querySelector("#blocksize");t.addEventListener("change",(function(t){document.querySelector("#blockvalue").innerText=this.value,e()}));var c=document.querySelector("#greyscale");c.addEventListener("change",e);var n=document.querySelector("#palette");n.addEventListener("change",e);var a=document.querySelector("#maxheight");a.addEventListener("change",e);var o=document.querySelector("#maxwidth");o.addEventListener("change",e),document.querySelector("#downloadimage").addEventListener("click",(function(e){px.saveImage()})),e()}));